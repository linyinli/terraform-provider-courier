---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "courier_artifact Resource - terraform-provider-courier"
subcategory: ""
description: |-
  Specify the artifact to deploy.
---

# courier_artifact (Resource)

Specify the artifact to deploy.

## Example Usage

```terraform
variable "artifact_refer_uri" {
  type        = string
  description = "The URI of the artifact to be pulled."
  default     = "https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/sample.war"
}

variable "artifact_refer_authn_type" {
  type        = string
  description = "The type of authentication to be used for pulling the artifact."
  default     = ""

  validation {
    condition     = length(var.artifact_refer_authn_type) == 0 || contains(["basic", "bearer"], var.artifact_refer_authn_type)
    error_message = "Invalid artifact authentication type, must be one of `basic` or `bearer`."
  }
}

variable "artifact_refer_authn_user" {
  type        = string
  description = "The username of the authentication to be used for pulling the artifact."
  default     = ""
}

variable "artifact_refer_authn_secret" {
  type        = string
  description = "The secret of the authentication to be used for pulling the artifact, either password or token."
  default     = ""
}

variable "artifact_refer_insecure" {
  type        = bool
  description = "Whether to skip TLS verification when pulling the artifact."
  default     = true
}

variable "artifact_runtime" {
  type        = string
  description = "The runtime of the artifact to be deployed."
  default     = "tomcat"

  validation {
    condition     = contains(["tomcat", "openjdk", "docker"], var.artifact_runtime)
    error_message = "Invalid artifact runtime, must be one of `tomcat`, `openjdk` or `docker`."
  }
}

variable "artifact_command" {
  type        = string
  description = "The command to start the artifact."
  default     = ""
}

variable "artifact_ports" {
  type        = list(number)
  description = "The ports to be exposed by the artifact."
  default     = null
}

variable "artifact_envs" {
  type        = map(string)
  description = "The environment variables to be set for the artifact."
  default     = null
}

variable "artifact_volumes" {
  type        = list(string)
  description = "The volumes to be mounted for the artifact."
  default     = null
}

resource "courier_artifact" "example" {
  refer = {
    uri   = var.artifact_refer_uri
    authn = length(var.artifact_refer_authn_type) > 0 ? {
      type   = var.artifact_refer_authn_type
      user   = var.artifact_refer_authn_user
      secret = var.artifact_refer_authn_secret
    } : null
    insecure = var.artifact_refer_insecure
  }

  runtime = var.artifact_runtime
  command = var.artifact_command
  ports   = var.artifact_ports
  envs    = var.artifact_envs
  volumes = var.artifact_volumes

  timeouts = {
    create = "5m"
    update = "5m"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `refer` (Attributes) The reference of the artifact. (see [below for nested schema](#nestedatt--refer))
- `runtime` (String) The runtime of the artifact.

### Optional

- `command` (String) The command to start the artifact.
- `envs` (Map of String) The environment variables of the artifact.
- `ports` (List of Number) The ports of the artifact.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `volumes` (List of String) The volumes of the artifact.

### Read-Only

- `digest` (String) Observes the digest of the artifact, 
in form of algorithm:checksum.
- `id` (String) The ID of the artifact.
- `length` (Number) Observes the content length of the artifact,
may not be available for all types of artifact.
- `type` (String) Observes the type of the artifact.

<a id="nestedatt--refer"></a>
### Nested Schema for `refer`

Required:

- `uri` (String) The reference to pull the artifact.

Optional:

- `authn` (Attributes) The authentication for pulling the artifact. (see [below for nested schema](#nestedatt--refer--authn))
- `insecure` (Boolean) Specify to pull the artifact with insecure mode.

<a id="nestedatt--refer--authn"></a>
### Nested Schema for `refer.authn`

Required:

- `secret` (String, Sensitive) The secret for authentication, either password or token.

Optional:

- `type` (String) The type for authentication, either "basic" or "bearer".
- `user` (String) The user for authentication.



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `update` (String)


