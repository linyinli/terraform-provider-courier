---
layout: ""
page_title: "Courier Provider"
description: The Courier provider for Terraform is a plugin that handles the Traditional Deployments, which means you can consume Courier to deliver a Web Application artifact to the related Web Server.
---

# Courier Provider

The Courier provider for Terraform is a plugin that handles the Traditional Deployments, which means you can consume Courier to deliver a Web Application artifact to the related Web Server.

## Example Usage

```terraform
terraform {
  required_providers {
    courier = {
      source = "seal-io/courier"
    }
  }
}

provider "courier" {}

resource "courier_artifact" "example" {
  refer = {
    uri = "https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/sample.war"
  }
  
  runtime = "tomcat"
  ports   = [80, 443]
}

resource "courier_target" "example" {
  host  = {
    address = "..."
    authn   = {
      type   = "ssh"
      user   = "root"
      secret = "..."
    }
    insecure = true
  }
}

resource "courier_deployment" "example" {
  artifact = courier_artifact.example
  target   = courier_target.example
}

```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `runtime` (Attributes) Define the runtime collection to deploy the artifact. (see [below for nested schema](#nestedatt--runtime))

<a id="nestedatt--runtime"></a>
### Nested Schema for `runtime`

Required:

- `source` (String) The source to fetch the runtime, 
only support a git repository at present.

  - For example:
	  - https://github.com/foo/bar, clone the HEAD commit of the default branch.
      - https://github.com/foo/bar//subpath, clone the HEAD commit of the default branch, 
        and use the subdirectory.
      - https://github.com/foo/bar?ref=dev, clone the "dev" commit.
  - Comply with the following structure:
	  /tomcat     	   # the name of the runtime.
        /linux         # the os supported by the runtime.
          /service.sh  # the POSIX shell script, must name as service.sh.
            setup
            start
            state
            stop
            cleanup
        /windows
          /service.ps1 # the PowerShell script, must name as service.ps1.

Optional:

- `authn` (Attributes) The authentication for pulling the artifact. (see [below for nested schema](#nestedatt--runtime--authn))
- `insecure` (Boolean) Specify to fetch the runtime with insecure mode.

<a id="nestedatt--runtime--authn"></a>
### Nested Schema for `runtime.authn`

Required:

- `secret` (String, Sensitive) The secret for authentication, either password or token.

Optional:

- `type` (String) The type for authentication, either "basic" or "bearer".
- `user` (String) The user for authentication.
